<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>코트비 계산기</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <script src="https://developers.kakao.com/sdk/js/kakao.min.js"></script>
</head>
<body>
    <!-- 히어로 섹션 -->
    <div class="hero-section">
        <div class="hero-content">
            <div class="hero-title">Tennis Life Balance</div>
            <div class="hero-subtitle">테니스 코트비 계산기</div>
        </div>
        <a href="https://script.google.com/macros/s/AKfycbzK0WSHt8v7Fep25FSKPyEpww3XYIqRMmr54Op1oEIYqjAwLSiucyasz2xo8bbgHCgHnQ/exec" target="_blank" class="hero-ranking-btn">랭킹보드</a>
    </div>

    <div class="container">
        <div class="input-section">
            <h3>📅 날짜 및 시간 정보</h3>
            
            <div class="input-group">
                <label for="usageDate">사용 날짜:</label>
                <input type="date" id="usageDate" style="background-image: none;">
            </div>

            <div class="time-group">
                <div class="input-group">
                    <label for="startTime">시작 시간:</label>
                    <select id="startTime"></select>
                </div>
                <div class="input-group">
                    <label for="endTime">종료 시간:</label>
                    <select id="endTime"></select>
                </div>
            </div>

            <h3>🏟️ 코트 대여 정보</h3>
            
            <div class="court-section">
                <div class="court-group">
                    <div class="input-group">
                        <label for="indoorCourtCount">실내 코트 대여수:</label>
                        <select id="indoorCourtCount">
                            <option value="0">0개</option>
                            <option value="1">1개</option>
                            <option value="2">2개</option>
                            <option value="3">3개</option>
                            <option value="4">4개</option>
                        </select>
                    </div>
                    <div class="button-group">
                        <button type="button" class="quick-btn" data-target="indoorCourtCount" data-value="0">0</button>
                        <button type="button" class="quick-btn" data-target="indoorCourtCount" data-value="1">1</button>
                        <button type="button" class="quick-btn" data-target="indoorCourtCount" data-value="2">2</button>
                        <button type="button" class="quick-btn" data-target="indoorCourtCount" data-value="3">3</button>
                        <button type="button" class="quick-btn" data-target="indoorCourtCount" data-value="4">4</button>
                    </div>
                </div>

                <div class="court-group">
                    <div class="input-group">
                        <label for="outdoorCourtCount">실외 코트 대여수:</label>
                        <select id="outdoorCourtCount">
                            <option value="0">0개</option>
                            <option value="1">1개</option>
                            <option value="2">2개</option>
                            <option value="3">3개</option>
                            <option value="4">4개</option>
                        </select>
                    </div>
                    <div class="button-group">
                        <button type="button" class="quick-btn" data-target="outdoorCourtCount" data-value="0">0</button>
                        <button type="button" class="quick-btn" data-target="outdoorCourtCount" data-value="1">1</button>
                        <button type="button" class="quick-btn" data-target="outdoorCourtCount" data-value="2">2</button>
                        <button type="button" class="quick-btn" data-target="outdoorCourtCount" data-value="3">3</button>
                        <button type="button" class="quick-btn" data-target="outdoorCourtCount" data-value="4">4</button>
                    </div>
                </div>

                <!-- 시간×코트 매트릭스 UI (접힘) -->
                <details class="slot-matrix-section">
                    <summary class="slot-matrix-summary">시간대별 / 코트별 상세 설정 (필요시 펼치기)</summary>
                    <div id="slotMatrix"></div>
                </details>
            </div>

            <h3>👥 인원 정보</h3>
            
            <div class="participants-section">
                <div class="input-group">
                    <label for="totalParticipants">총 인원:</label>
                    <select id="totalParticipants">
                        <option value="4">4명</option>
                        <option value="5">5명</option>
                        <option value="6">6명</option>
                        <option value="7">7명</option>
                        <option value="8">8명</option>
                        <option value="9">9명</option>
                        <option value="10">10명</option>
                        <option value="11">11명</option>
                        <option value="12">12명</option>
                        <option value="13">13명</option>
                        <option value="14">14명</option>
                        <option value="15">15명</option>
                        <option value="16">16명</option>
                    </select>
                </div>
                <div class="button-group participants-buttons">
                    <button type="button" class="quick-btn" data-target="totalParticipants" data-value="4">4</button>
                    <button type="button" class="quick-btn" data-target="totalParticipants" data-value="5">5</button>
                    <button type="button" class="quick-btn" data-target="totalParticipants" data-value="6">6</button>
                    <button type="button" class="quick-btn" data-target="totalParticipants" data-value="7">7</button>
                    <button type="button" class="quick-btn" data-target="totalParticipants" data-value="8">8</button>
                    <button type="button" class="quick-btn" data-target="totalParticipants" data-value="9">9</button>
                    <button type="button" class="quick-btn" data-target="totalParticipants" data-value="10">10</button>
                    <button type="button" class="quick-btn" data-target="totalParticipants" data-value="11">11</button>
                    <button type="button" class="quick-btn" data-target="totalParticipants" data-value="12">12</button>
                </div>
            </div>

            <div class="ball-section">
                <div class="ball-row">
                    <div class="input-group">
                        <label for="ballPrice">테니스공 가격:</label>
                        <select id="ballPrice">
                            <option value="3500" selected>3,500원</option>
                            <option value="3600">3,600원</option>
                            <option value="3700">3,700원</option>
                            <option value="3800">3,800원</option>
                            <option value="3900">3,900원</option>
                            <option value="4000">4,000원</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label for="ballProviderCount">제공자수:</label>
                        <select id="ballProviderCount">
                            <option value="0">0명</option>
                            <option value="1">1명</option>
                            <option value="2">2명</option>
                            <option value="3">3명</option>
                            <option value="4">4명</option>
                        </select>
                    </div>
                </div>

                <div id="ballProviderDetails"></div>
            </div>

            <button id="calculateBtn" class="main-button">💰 계산하기</button>
        </div>

        <div class="result-section">
            <h2>📊 계산 결과</h2>
            <div id="results">
                <!-- 슬롯별 상세 내역 -->
                <div id="slotDetails"></div>
                <p>🏟️ <strong>총 코트 대여료:</strong> <span id="totalCourtRentalDisplayFee">0원</span></p>
                <p>🥎 <strong>총 테니스 비용 (공 포함):</strong> <span id="totalTennisCost">0원</span></p>
                <p>💰 <strong>1. 일반 참가자 송금액:</strong> <span id="regularParticipantAmount">0원</span></p>
                <div id="ballProviderSettlement"></div>
                <div id="courtManagerSection">
                    <p>🌟 <strong>코트 대여 임무:</strong> <span id="courtManager">정보 없음</span></p>
                </div>
            </div>
            <button id="shareKakao" class="main-button">📱 카카오톡 공유</button>
        </div>

        <!-- 계산기 섹션 (접기) -->
        <details class="calculator-section">
            <summary class="calculator-summary">🧮 보조 계산기 (필요시 펼치기)</summary>
            <div class="calculator">
                <div class="calculator-display">
                    <input type="text" id="calcDisplay" readonly placeholder="0">
                </div>
                <div class="calculator-buttons">
                    <button class="calc-btn calc-clear" onclick="clearCalculator()">C</button>
                    <button class="calc-btn calc-operator" onclick="deleteLast()">⌫</button>
                    <button class="calc-btn calc-operator" onclick="appendToDisplay('/')">/</button>
                    <button class="calc-btn calc-operator" onclick="appendToDisplay('*')">×</button>

                    <button class="calc-btn calc-number" onclick="appendToDisplay('7')">7</button>
                    <button class="calc-btn calc-number" onclick="appendToDisplay('8')">8</button>
                    <button class="calc-btn calc-number" onclick="appendToDisplay('9')">9</button>
                    <button class="calc-btn calc-operator" onclick="appendToDisplay('-')">-</button>

                    <button class="calc-btn calc-number" onclick="appendToDisplay('4')">4</button>
                    <button class="calc-btn calc-number" onclick="appendToDisplay('5')">5</button>
                    <button class="calc-btn calc-number" onclick="appendToDisplay('6')">6</button>
                    <button class="calc-btn calc-operator" onclick="appendToDisplay('+')">+</button>

                    <button class="calc-btn calc-number" onclick="appendToDisplay('1')">1</button>
                    <button class="calc-btn calc-number" onclick="appendToDisplay('2')">2</button>
                    <button class="calc-btn calc-number" onclick="appendToDisplay('3')">3</button>
                    <button class="calc-btn calc-equals" onclick="calculateResult()" rowspan="2">=</button>

                    <button class="calc-btn calc-number calc-zero" onclick="appendToDisplay('0')">0</button>
                    <button class="calc-btn calc-number" onclick="appendToDisplay('.')">.</button>
                </div>
            </div>
        </details>
    </div>

    <script src="script.js"></script>
</body>
</html>